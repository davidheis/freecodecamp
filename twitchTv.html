<!DOCTYPE html>
<html>
<head>
	<title>TwitchTv</title>
	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	<style type="text/css"> 
	



		</style>

</head>
<body>
<h1 class="text-center">Twitch Streamers</h1>
<!-- https://www.twitch.tv/freecodecamp/v/115703638 -->
<div class="container-fluid " id="mainContainer">


	<div id="logo" class="col-xs-offset-2 col-xs-8 text-center jumbotron">


		
	</div>
</div>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

	<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js">
	</script>
<script type="text/javascript">

var usernames= ["ESL_SC2", "OgamingSC2", "cretetion", "freecodecamp", "storbeck", "habathcx", "RobotCaleb", "noobs2ninjas", 'brunofin', 'comster404']


	$(document).ready(function(){
		for (var i = 0; i < usernames.length; i++) {
			var url = 'https://api.twitch.tv/kraken/users/' + usernames[i]; 
			$.ajax({
		      type:"GET",
		      url: url,
		      headers: {
   'Client-ID': 'v5g3cvwoip8el5sufnzkxd2gl1d8uc'
 },
		      async: false,
		      dataType: 'json',
		      success: function(data){
		      	// if (Object.keys(data)[Object.keys(data).length-1]) {
		      	// 		console.log('---------------------------')
		      	// 	}
		      	var status = data.status;

				// if(typeof(status) == 'string'){

		  //     			for (var keys in data) {
		  //     		console.log(keys+': ' + data[keys])


		      		
		  //     	}
		      		$('#logo').prepend('<img class="img-responsive center-block img-circle" src="' + data.logo + '"><p><a href="'+data.url+'"target="blank">' + data.display_name + '</a></p><p>Status: ' + status + '</p><p>Game: ' + data.status + '</p>');
		      		
		      	// }else{
		      	// 	$('#logo').prepend('<img class="img-responsive center-block img-circle" src="' + data.logo + '"><p><a href="'+data.url+'"target="blank">' + data.display_name + '</a></p><p>Status: Offline</p><p>Game: ' + data + '</p>');
		      	// }
		      	

		      },
		      error: function(errorMessage){
		        console.log('error')

		      }
		    })

	// 	    $.ajax({
	// 	      type:"GET",
	// 	      url: 'https://api.twitch.tv/kraken/users/' + usernames[i],
	// 	      headers: {
 //   'Client-ID': 'v5g3cvwoip8el5sufnzkxd2gl1d8uc'
 // },
	// 	      async: false,
	// 	      dataType: 'json',
	// 	      success: function(data){


	// 	      	// console.log(data.stream._links.self+ ' STREAAAAAMM')
	// 			if(data.stream !== null){

		      		
	// 	      		$('#logo').prepend('<p>Streaming: <a href="'+data.stream._links.self+'" target="blank">click</a></p>');
		      		
	// 	      	}else{
	// 	      		$('#logo').prepend('<p>Streaming: Offline</p>');
	// 	      	}

	// 	      },
	// 	      error: function(errorMessage){
	// 	        console.log('error')

	// 	      }
	// 	    })


		}
 })


	
// {"mature":false,"status":"Let's make stuff w/JackeL #programming \n#javascript\n","broadcaster_language":"en","display_name":"FreeCodeCamp","game":"Creative","language":"en","_id":79776140,"name":"freecodecamp","created_at":"2015-01-14T03:36:47Z","updated_at":"2017-01-20T17:32:24Z","delay":null,"logo":"https://static-cdn.jtvnw.net/jtv_user_pictures/freecodecamp-profile_image-d9514f2df0962329-300x300.png","banner":null,"video_banner":"https://static-cdn.jtvnw.net/jtv_user_pictures/freecodecamp-channel_offline_image-b8e133c78cd51cb0-1920x1080.png","background":null,"profile_banner":"https://static-cdn.jtvnw.net/jtv_user_pictures/freecodecamp-profile_banner-6f5e3445ff474aec-480.png","profile_banner_background_color":null,"partner":false,"url":"https://www.twitch.tv/freecodecamp","views":173912,"followers":10507,"_links":{"self":"https://api.twitch.tv/kraken/channels/freecodecamp","follows":"https://api.twitch.tv/kraken/channels/freecodecamp/follows","commercial":"https://api.twitch.tv/kraken/channels/freecodecamp/commercial","stream_key":"https://api.twitch.tv/kraken/channels/freecodecamp/stream_key","chat":"https://api.twitch.tv/kraken/chat/freecodecamp","subscriptions":"https://api.twitch.tv/kraken/channels/freecodecamp/subscriptions","editors":"https://api.twitch.tv/kraken/channels/freecodecamp/editors","teams":"https://api.twitch.tv/kraken/channels/freecodecamp/teams","videos":"https://api.twitch.tv/kraken/channels/freecodecamp/videos"}}





</script>
</body>
</html>